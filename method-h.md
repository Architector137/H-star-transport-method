Название: Методика применения индекса устойчивости формы H*  
для транспортных сетей и дорожной инфраструктуры  
Версия: v1.0, профиль TRANSPORT

© 2025 Рыбаков Павел Игоревич  
Методика описывает применение индекса H* к оценке структурной устойчивости дорожных и железнодорожных сетей.  
Метод H* является оригинальной разработкой автора, все производные адаптации  
распространяются на условиях лицензии CC BY-NC-SA 4.0  
https://creativecommons.org/licenses/by-nc-sa/4.0/




Введение: зачем нужен индекс H* для транспортной инфраструктуры

Городские и региональные транспортные сети — это динамичные, подвижные структуры, подверженные множественным воздействиям: пробки, ремонты, аварии, погодные ограничения, массовые мероприятия. Даже при сохранении видимой проходимости, сеть может находиться в состоянии структурной нестабильности, на грани перегрузки или фрагментации.

Методика H* позволяет оценивать целостность транспортной сети как единого объекта, не по отдельным участкам, а в целом — с учётом связности, резервирования маршрутов, избыточности и ослабления пропускной способности. Это переход от реакции на локальные сбои — к проактивному управлению уязвимостями и планированию усилений.

> Индекс H* агрегирует ключевые структурные признаки (λ₂, размер главной компоненты, избыточность, чувствительность)
в единое числовое значение, интерпретируемое и пригодное для сравнения между сценариями и временными срезами.




---

Область применения

Методика охватывает все основные типы транспортных систем:

Улично-дорожные сети (городские, региональные)

Магистрали, скоростные коридоры, развязки

Железнодорожные и трамвайные линии, пересадочные узлы

Смешанные системы (авто + ЖД + BRT), включая наложенные маршруты



---

Цели и сценарии применения

Раннее предупреждение о структурной перегрузке и снижении проводимости

Стресс‑тестирование инфраструктуры при инцидентах и реконструкциях

Анализ последствий перекрытий, отключений, погодных ограничений

Планирование и приоритизация инфраструктурных инвестиций

Управление окнами работ и режимами ослабления контроля


Методика пригодна для интеграции в диспетчерские и аналитические системы, поддерживает мультимодальный подход и может адаптироваться под конкретную географию, правила движения и структуру данных.


2. Нотация, термины и единицы

Граф транспортной сети: G = (V, E, w).
V — узлы (перекрёстки, развязки, станции), E — рёбра (участки дороги/пути).
Эталон: G0 = (V0, E0, w0) — «нормальное» состояние.
C_max(G) — главная компонента связности.
W(G) — сумма весов рёбер.
maxdeg(G0) — максимальная степень вершины в эталоне.
Delta0 — стабилизатор нормировки: max(lambda2(G0), 1/|V0|).
lambda2(G) — алгебраическая связность (второе собственное значение лапласиана).

Единицы телеметрии:
cap (cap_vehph) — пропускная способность, авто/час;
latency_s — задержка прохождения участка, секунды;
availability — доля времени без ограничений, 0..1;
load_frac — доля загрузки, 0..1;
ts — метка времени (ISO 8601), фиксированная таймзона.

Нотация полей в API и отчётах (строго едино):
lambda2_hat, S_hat, R, kappa_hat, Coh_star, sigma_star, epsilon, Delta0, H_star, LRI.



3. Нормированные метрики формы

Все метрики приведены к диапазонам [0..1] или (0..+∞]. Формулы даны без LaTeX.

3.1. Нормированная алгебраическая связность
lambda2_hat(G) = min(1, lambda2(G) / Delta0)

3.2. Относительный размер главной компоненты
S_hat(G) = |C_max(G)| / |V0|

3.3. Структурная избыточность
R(G) = (1/|V0|) * sum_{v∈V0} (deg_G(v) / maxdeg(G0)), отсутствующие узлы дают 0.

3.4. Усиленная чувствительность к деградации
kappa_hat(G) = 1 - exp(-lambda2(G) / Delta0)

3.5. Когерентность формы
Coh_star(G) = (lambda2_hat * S_hat * R * kappa_hat)^(1/4)

3.6. Мера структурного повреждения
sigma_star(G) = max( (W0 - W(G))/W0, 1 - lambda2_hat, 1 - S_hat, 1 - R )

3.7. Стабилизация деления
epsilon = 1 / (|V0|^2)

3.8. Индекс устойчивости формы
Если sigma_star = 0, то H_star = +∞.
Если sigma_star > 0, то H_star = Coh_star / (sigma_star + epsilon).

Смысл: высокий H_star достигается лишь при одновременной высокой когерентности и низком структурном ущербе. При распаде сети метрики падают, H_star стремится к нулю.



4. Весовая модель транспортных связей

Вес ребра w(e) отражает его полезность для всей сети с учётом геометрии, управления движением и текущей операции.

4.1. Нормирование входов
c_tilde(e) = min(1, cap(e) / cap_target)
l_tilde(e) = min(1, lat_target / max(lat(e), lat_min))
a_tilde(e) = availability(e) ∈ [0..1]

4.2. Базовый вес
w0(e) = clip( alpha * c_tilde + beta * l_tilde + gamma * a_tilde ), alpha+beta+gamma=1

4.3. Динамическая девальвация от загрузки
w_t(e) = w0(e) * (1 - rho * saturation(q(e,t)))
Где saturation(x) = min(1, max(0, x - q_threshold)).

4.4. Рекомендованные стартовые значения
alpha=0.4, beta=0.4, gamma=0.2, q_threshold=0.75 (пороговое значение для функции saturation, определяемой в п. 4.3), rho=0.6.
Эти значения подлежат калибровке по локальным данным (см. Раздел 16).

4.5. Специфические факторы (опционально)

геометрия (число полос, уклон, радиус кривой),

приоритетные полосы (ОВД, общественный транспорт),

управление светофорами (эффективный «зелёный»),

надёжность участка (частота ДТП/ремонтов, погодная уязвимость) — через поправочные коэффициенты weight_modifiers ∈ [0.8..1.2].




5. Модель данных и качество данных

5.1. Источники: детекторы потока/скорости, камеры и ML-оценка, GPS зондирование, SCATS/SCOOT, GTFS/AVL для ОТ, датчики моста/тоннеля, метеоданные.

5.2. Схемы:

nodes.csv: node_id, type, region, layer, geo, ...

edges.csv: edge_id, u, v, layer, cap_vehph, latency_s, availability, lanes, oneway, ...

telemetry.csv: ts, edge_id, load_frac, latency_s, incidents_flag, ...

works.yaml: план/факт работ (окна, ограничения),

incidents.json: ДТП, перекрытия, погодные блокировки, severity (уровень влияния), duration, affected_edges.


5.3. Качество данных:
В каждой записи telemetry фиксировать:

quality_flag: ok | stale | imputed | suspect;

latency_s: задержка поступления;

telemetry_age_s: возраст последнего валидного значения.


Импутация: ограниченный forward-fill по окну времени → медианная вставка.
Дедупликация: ключ edge_id+ts.
Синхронизация времени: допуск дрейфа ±2 c.
Отчётный показатель data_quality_score ∈ [0..1] агрегируется из долей пропусков/импутации/лагов/выбросов.



5.4Стратифицированный эталон по времени

Эталон G0 ведётся раздельно по временным срезам: часы суток, дни недели, сезоны. Это исключает ложные тревоги из‑за естественной суточной/сезонной периодики. Для каждого среза фиксируются собственные V0/E0/w0, Delta0 и пороги. Переключение профиля происходит автоматически по календарю и расписанию.



6. Ориентированность и многослойность

Транспортные сети направленные (односторонние улицы, направления движения).
По умолчанию применяется симметризация весов для спектрального анализа с фиксацией режима в отчёте. Альтернатива — расчёт на симметризованном лапласиане.

Многослойность: слои (авто, общественный транспорт, ЖД, велосипед). Рассчитывается H_star по каждому слою; агрегированный H_star сопровождается ссылкой на слой‑«бутылочное горлышко» (наименьший H_star и наибольшее влияние на мультимодальные поездки).



7. Индекс резервирования путей (LRI)

LRI оценивает число рёберно‑независимых альтернативных путей между парами узлов — меру «устойчивости маршрутизации».

Расчёт:

1. Выбрать P пар узлов без повторений (P = min(1000, max(200, floor(0.02 * |V|^2)))).


2. Для каждой пары (u,v) вычислить k_uv — максимум рёберно‑непересекающихся путей.


3. LRI = среднее k_uv по P парам.
В отчёте указывать: P_used, random_seed, долю несвязных пар.



Примечание по направленности: для расчёта k_uv допускается симметризация направленных рёбер (или эквивалентное преобразование к двунаправленным с минимальным весом), выбранный режим фиксируется в отчёте.



8. Сервисные и коридорные индексы

Для ключевых транспортных коридоров/маршрутов (например, М1, Ринг, ЖД‑ветка) строится индуцированный подграф G_t^s и рассчитывается H_star_s тем же алгоритмом. Это позволяет выявлять проблемы, которые критичны для конкретного коридора при стабильном общем H_star.



9. Операционный цикл мониторинга

Период цикла: 1–5 минут (рекомендуемо 2–3 минуты для городской сети).

Шаги:

1. Сбор данных (топология, телеметрия, инциденты, работы).


2. Построение текущего графа G_t с весами w_t.


3. Расчёт lambda2_hat, S_hat, R, kappa_hat, Coh_star, sigma_star, H_star; параллельно — LRI, H_star_s.


4. Сглаживание EWMA по H_star, оценка dH*/dt.


5. Пороговая проверка.


6. Генерация событий и уведомлений.


7. Публикация в API и визуализация.



SLO: целевое время итерации ≤ 30 с; при перегрузке — graceful degradation (приближённый lambda2, редкий LRI, кэширование Fiedler‑вектора, инкрементальные апдейты).



10. Сигнализация и окна работ

Пороги: H_warn, H_critical, LRI_min калибруются на стабильно‑хорошей истории.
Тревога ALERT при двойном условии: H_star < H_warn и dH*/dt < −d_min.

Окна работ (ремонтов): пороги смягчаются (например, +15% к H_warn, двукратное ослабление чувствительности по dH*/dt), оповещения не отключаются, а маркируются «внутри регламента». Возврат к нормальному пороговому профилю — по таймауту окна или при стабилизации.




11. Неопределённость и доверие (Uncertainty & Confidence)

Для H_star строятся доверительные интервалы (уровень доверия 95%) методом непараметрического бутстрэпа. Алгоритм включает следующие шаги:

1.  Исходный граф G_t представляется как набор его рёбер E = {e₁, e₂, ..., eₘ} с их текущими весами w(eᵢ).
2.  Генерируется N=1000 псевдовыборок B₁, B₂, ..., B_N. Каждая псевдовыборка Bᵢ формируется путём случайного выбора m рёбер из исходного набора E с возвращением (random sampling with replacement).
3.  Для каждой псевдовыборки Bᵢ строится граф Gᵢ и заново вычисляется значение индекса H*(Gᵢ).
4.  Полученное распределение из N значений {H*(G₁), H*(G₂), ..., H*(G_N)} сортируется по возрастанию.
5.  Нижняя и верхняя границы доверительного интервала определяются как 2.5-й и 97.5-й процентили этого распределения, соответственно. Эти значения публикуются как H_star_ci_low и H_star_ci_high.

Для LRI доверительные интервалы рассчитываются по аналогичной процедуре, где бутстрэп выполняется на множестве тестируемых пар узлов.

Флаг «низкая уверенность» активируется при высокой доле импутации/пропусков (>20%), большом лаге данных (>5 минут), нестабильной топологии (более 10% изменений состава узлов/рёбер за цикл) либо при ширине доверительного интервала H_star, превышающей 30% от значения H_star.


12. Атрибуция и рекомендации

Delta‑анализ: виртуальное удаление ребра/узла и оценка delta_H_star. Ограничивается топ‑N по времени/вкладу.
Аппроксимации: локальные градиенты, упрощённые Шэпли‑оценки на 1–2 шага.
Выход: список участков с негативным влиянием и рекомендации: переразметка, расширение, реконфигурация светофоров, альтернативные маршруты, ускорение ремонта.



13. Планирование усилений (Resilience Planning)

Цель: максимизировать H_star при ограниченном бюджете (стоимости реконструкций, полос, светофорных проектов).

Методы:

Жадный алгоритм: выбирать элемент с максимальным delta_H_star / cost.

ILP/CP для малых графов и точных задач (включая целевые ограничения по районам и экологии).


Выход: приоритизированный план мероприятий с ожидаемым приростом H_star, KPI и простой ROI‑оценкой; календарный план с учётом окон и сезонности.




14. Стресс‑тестирование и кривые хрупкости

Сценарии: случайные перекрытия; целевые (мосты, развязки); региональные (центр/район); погодные (наводнения, гололёд).
Строится кривая H_star(p), где p — доля недоступных участков; точка излома определяет границы устойчивости.




15. Визуализация и отчётность

Главный дашборд: текущее H_star, тренд, Coh_star, sigma_star, LRI, confidence, панель доверия данных; карта сети с тепловой подложкой delta_H_star.
Отчёты: суточные/недельные PDF/HTML, JSON‑экспорт; отдельные листы для коридоров (H_star_s).



16. Калибровка и чувствительность

Параметры калибруются по истории с латинским гиперкубом/сеткой (50–100 комбинаций).
Метрики качества: FPR тревог, lead‑time предупреждений, устойчивость при окнах работ.
Фиксируется best‑known‑config с версией.




17. Развёртывание и наблюдаемость

Пакетирование: контейнер, Helm‑чарты, readiness/liveness.
Метрики самой системы: iteration_time_ms, cpu_pct, ram_mb, queue_size, input_lag_s, imputation_share.
Логи: структура, уровни, ретенция; корреляция с инцидентами.




18. Безопасность и приватность

Шифрование в транзите и на хранении; RBAC до уровня полей; аудит изменений и API‑вызовов.
Конфиденциальность данных перемещений (GPS‑зонды): анонимизация, агрегация, задержка публикации, минимизация персональных идентификаторов, политика ретенции.




19. Совместимость и стандарты

Время: ISO 8601.
Транспортные интерфейсы и форматы: GTFS/GTFS‑Realtime (ОТ), DATEX II/Datex2‑совместимые обмены, общие принципы ITS/ISO 14813, TMC‑коды событий (если применимо).
SemVer для API: ветка v1.x, без breaking‑изменений в миноре.




20. Программный интерфейс (API)

build_graph(nodes, edges, telemetry, t) -> G_t — построение текущего графа.
compute_hstar(G_t, G0, meta) -> H_star_result — {lambda2_hat, S_hat, R, kappa_hat, Coh_star, sigma_star, epsilon, H_star, H_star_ci_low, H_star_ci_high, data_quality_score}.
compute_lri(G_t, P, seed) -> LRI_result — {LRI, P_used, seed, disconnected_share}.
compute_corridor_hstar(G_t, corridor_def) -> H_star_s — индекс для коридора.
fragility_curves(G_ref, scenarios) -> curves — кривые H_star(p).
thresholds_fit(history) -> thresholds — подбор H_warn, H_critical, LRI_min.
Повторные попытки, идемпотентность (idempotency‑key), коды ошибок, пагинация — обязательны к реализации.




21. Примеры сценариев

Пример A (мост): закрытие моста снижает lambda2_hat (0.92→0.64), kappa_hat падает; Coh_star — вниз; H_star пересекает H_warn за один цикл до массовой пробки; LRI падает (минус альтернативы).
Пример B (пробка без разрыва): lat увеличивается в 2 раза на магистрали, q>q_threshold → w_t снижается; H_star заметно падает, но LRI стабилен — указывает на узкое место ёмкости.
Пример C (узел‑развязка): отключение развязки делит сеть (S_hat=0.58), H_star≈крит. Указание на приоритет реконструкции.
Пример D (окно работ): пороги ослаблены, тревоги маркированы «в регламенте»; после завершения — возврат к нормальным порогам.




22. Тестирование и валидация

Property‑based: монотонность индекса, H_star→0 при распаде, инвариантность к масштабам весов.
Adversarial: ошибки времени, «мигающие» перекрытия, коррелированные сбои, выбросы скорости/потока.
Синтетика: случайные, small‑world, scale‑free, модульные графы с заданной геометрией.
Acceptance‑критерии: пределы по FPR, lead‑time, времени итерации (≤30 с), стабильности в окнах.




23. Управление и RACI

Стадии: detect → qualify → diagnose → act → post‑mortem → lessons & config update.
Роли: планировщик, диспетчер, инженер по сигналам, владелец порогов, владелец эталона (freeze/unfreeze). Все действия под аудитом.




24. Начальная конфигурация (рекомендации)

alpha=0.4, beta=0.4, gamma=0.2; q_threshold=0.75; rho=0.6; EWMA=0.85;
H_warn и H_critical — по истории (калибруются на исторических данных; дефолтные значения не устанавливаются);
P для LRI = min(1000, max(200, floor(0.02*|V|^2))).




25. Changelog (v1.0)

Формализовано применение индекса H* к транспортным сетям;

Специализация весовой модели под параметры дороги;

Режимы направленности и мультимодальности;

Индексы коридоров, stress‑тесты, окна работ;

Data Quality, Uncertainty, Attribution, Planning;

API и примеры сценариев;

Требования к безопасности и приватности.

Авторские права и ограничения использования

© 2025 Рыбаков Павел Игоревич. Все права защищены.

Индекс устойчивости формы H* и связанные с ним алгоритмы, формулы и определения являются результатом авторской разработки.

Настоящий документ публикуется в исследовательских и образовательных целях.
Любое коммерческое использование, перепродажа, включение метода в программные продукты, а также применение для оценки или проектирования критических объектов без письменного разрешения автора запрещено.

Контакт для обращений: pavel_rabota1996@mail.ru
ВКонтакте: vk.com/id1059469430